<template>
    <template if:true={recordList}>
        <h2 class="slds-card__header-title">{tableName}</h2>
        <lightning-card>
            <template for:each={recordList.data} for:item="record">
                <div key={record.Id} class="slds-p-bottom_small">
                    <c-treatment-session-child
                        record={record}
                        object-api={objectApi}
                        ondeletechild={handleDeleteChild}
                    >
                    </c-treatment-session-child>
                </div>
            </template>
            <div>
                <template if:false={addNewRecord}>
                    <lightning-button
                        variant="brand"
                        type="addNew"
                        label={addNewButtonLabel}
                        onclick={handleAddNew}>
                    </lightning-button>
                </template>
                <template if:true={addNewRecord}>
                    <c-treatment-session-child
                        object-api={objectApi}
                        protocol-id={protocolId}
                        onrefreshlist={handleUpdateList}
                    >
                    </c-treatment-session-child>
                </template>
            </div>
        </lightning-card>
    </template>
    
</template>