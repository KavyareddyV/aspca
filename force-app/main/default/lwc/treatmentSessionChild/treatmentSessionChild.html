<template>
    <template if:true={record}>
        <lightning-record-edit-form
            object-api-name={objectApi}
            record-id={record.Id}
            onsubmit={handleUpdateRecordSubmit}
            onsuccess={handleSuccess}
            >
            <lightning-messages>
            </lightning-messages>
            <div class="slds-grid">
                <div class="slds-col slds-size_3-of-8 ">
                    <c-custom-lookup
                        obj-name={customLookUpObject}
                        icon-name={customLookupIcon}
                        placeholder={customLookupPlaceholder}
                        fields={customLookupFields}
                        display-fields={customLookupDisplayFields}
                        onlookup={handleLookup}
                        value-id={customLookupNewId}
                        read-only=true
                        where-clause={customLookupWhereClause}
                        field-to-query={customLookupFeidlToQuery}
                        label-name={customLookupLabelName}
                    >
                    </c-custom-lookup>
                </div>
                <template if:true={isContactList}>
                    <div class="slds-col slds-size_3-of-8 slds-p-left_x-small">
                        <lightning-input-field
                            variant="label-hidden"
                            field-name="Novel_Not_Novel__c"
                            onchange={enableSaveButton}>
                        </lightning-input-field>
                    </div>
                    <div class="slds-col slds-size_1-of-8 slds-p-left_x-small">
                        <lightning-button-icon 
                            icon-name={saveButtonIcon} 
                            alternative-text="Save" 
                            type="submit"
                            title="Save"
                            disabled={disableSaveButton}
                            variant={saveButtonVariant}>
                        </lightning-button-icon>
                    </div>                    
                </template>
                <div class="slds-col slds-size_1-of-8 slds-p-left_x-small">
                    <lightning-button-icon 
                        icon-name="action:delete" 
                        alternative-text="Delete" 
                        onclick={handleRemoveRecord} 
                        title="Delete"
                        variant="border-filled">
                    </lightning-button-icon>
                </div>
            </div>
        </lightning-record-edit-form>
    </template>
    <template if:false={record}>
        <lightning-record-edit-form
            object-api-name={objectApi}
            onsuccess={handleSuccess}
            onsubmit={handleNewRecordSubmit}
            >
            <lightning-messages>
            </lightning-messages>
            <div class="slds-grid">
                <div class="slds-col slds-size_3-of-8">
                    <c-custom-lookup
                        obj-name={customLookUpObject}
                        icon-name={customLookupIcon}
                        placeholder={customLookupPlaceholder}
                        fields={customLookupFields}
                        display-fields={customLookupDisplayFields}
                        onlookup={handleLookup}
                        where-clause={customLookupWhereClause}
                        field-to-query={customLookupFeidlToQuery}
                        label-name={customLookupLabelName}
                    >
                    </c-custom-lookup>
                </div>
                <template if:true={isContactList}>
                    <div class="slds-col slds-size_3-of-8 slds-p-left_x-small">
                        <lightning-input-field
                            variant="label-hidden"
                            field-name="Novel_Not_Novel__c"
                            onchange={enableButton}>
                        </lightning-input-field>
                    </div>
                </template>
                <template if:true={isLoading}>
                    <div class="slds-m-left_small">
                        <lightning-icon 
                            icon-name='utility:spinner'
                            alternative-text="loading" 
                            size="x-small"
                        >
                        </lightning-icon>
                    </div>
                </template>
            </div>
            <div class="slds-p-top_small">
                <lightning-button
                    variant="brand"
                    type="submit"
                    label={addNewLabel}
                    >
                </lightning-button>
                <lightning-button
                    class="slds-p-left_x-small"
                    variant="neutral"
                    onclick={cancelAddNew}
                    label="Cancel Add New"
                    >
                </lightning-button>
            </div>
        </lightning-record-edit-form>
    </template>
</template>